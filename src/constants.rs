//! Program constants

/// Duration after which lagging players chips can be slashed (in seconds)
pub const SLASH_TIMEOUT: i64 = 240;

/// Default timeout for player actions (in seconds)
pub const DEFAULT_TIMEOUT_SECONDS: u32 = 120;

/// Default slash percentage for timeout penalties (0-100)
pub const DEFAULT_SLASH_PERCENTAGE: u8 = 10;

/// Maximum number of players per game
pub const MAX_PLAYERS: u8 = 6;

/// Minimum number of players per game
pub const MIN_PLAYERS: u8 = 2;

/// Number of cards in a deck
pub const DECK_SIZE: usize = 52;

/// Number of hole cards per player
pub const HOLE_CARDS_PER_PLAYER: u8 = 2;

/// Maximum community cards
pub const MAX_COMMUNITY_CARDS: u8 = 5;

/// Token decimal multiplier (10^9 for SPL tokens with 9 decimals)
pub const TOKEN_DECIMAL_MULTIPLIER: u64 = 1_000_000_000;

// PDA Seeds
pub const GAME_CONFIG_SEED: &[u8] = b"game_config";
pub const GAME_STATE_SEED: &[u8] = b"game_state";
pub const PLAYER_STATE_SEED: &[u8] = b"player";
pub const DECK_STATE_SEED: &[u8] = b"deck";
pub const ACCUMULATOR_SEED: &[u8] = b"accumulator";
pub const COMMUNITY_CARDS_SEED: &[u8] = b"community";
pub const VAULT_SEED: &[u8] = b"vault";
pub const PLAYER_LIST_SEED: &[u8] = b"player_list";

// secp256k1 curve constants (matching Solidity Utils.sol)
/// Curve parameter a = 0
pub const SECP256K1_A: [u8; 32] = [0u8; 32];

/// Curve parameter b = 7
pub const SECP256K1_B: u8 = 7;

/// Field prime p = 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F
pub const SECP256K1_P: [u8; 32] = [
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0xFF, 0xFF, 0xFC, 0x2F,
];

/// Generator point X coordinate
pub const SECP256K1_GX: [u8; 32] = [
    0x79, 0xBE, 0x66, 0x7E, 0xF9, 0xDC, 0xBB, 0xAC, 0x55, 0xA0, 0x62, 0x95, 0xCE, 0x87, 0x0B, 0x07,
    0x02, 0x9B, 0xFC, 0xDB, 0x2D, 0xCE, 0x28, 0xD9, 0x59, 0xF2, 0x81, 0x5B, 0x16, 0xF8, 0x17, 0x98,
];

/// Generator point Y coordinate
pub const SECP256K1_GY: [u8; 32] = [
    0x48, 0x3A, 0xDA, 0x77, 0x26, 0xA3, 0xC4, 0x65, 0x5D, 0xA4, 0xFB, 0xFC, 0x0E, 0x11, 0x08, 0xA8,
    0xFD, 0x17, 0xB4, 0x48, 0xA6, 0x85, 0x54, 0x19, 0x9C, 0x47, 0xD0, 0x8F, 0xFB, 0x10, 0xD4, 0xB8,
];

/// Curve order n = 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141
pub const SECP256K1_N: [u8; 32] = [
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE,
    0xBA, 0xAE, 0xDC, 0xE6, 0xAF, 0x48, 0xA0, 0x3B, 0xBF, 0xD2, 0x5E, 0x8C, 0xD0, 0x36, 0x41, 0x41,
];

// =============================================================================
// bn254 (alt_bn128) curve constants for Solana syscalls
// =============================================================================

/// bn254 field prime p
/// p = 21888242871839275222246405745257275088696311157297823662689037894645226208583
/// Hex: 0x30644e72e131a029b85045b68181585d97816a916871ca8d3c208c16d87cfd47
pub const BN254_P: [u8; 32] = [
    0x30, 0x64, 0x4e, 0x72, 0xe1, 0x31, 0xa0, 0x29,
    0xb8, 0x50, 0x45, 0xb6, 0x81, 0x81, 0x58, 0x5d,
    0x97, 0x81, 0x6a, 0x91, 0x68, 0x71, 0xca, 0x8d,
    0x3c, 0x20, 0x8c, 0x16, 0xd8, 0x7c, 0xfd, 0x47,
];

/// bn254 curve order n (scalar field order)
/// n = 21888242871839275222246405745257275088548364400416034343698204186575808495617
/// Hex: 0x30644e72e131a029b85045b68181585d2833e84879b9709143e1f593f0000001
pub const BN254_N: [u8; 32] = [
    0x30, 0x64, 0x4e, 0x72, 0xe1, 0x31, 0xa0, 0x29,
    0xb8, 0x50, 0x45, 0xb6, 0x81, 0x81, 0x58, 0x5d,
    0x28, 0x33, 0xe8, 0x48, 0x79, 0xb9, 0x70, 0x91,
    0x43, 0xe1, 0xf5, 0x93, 0xf0, 0x00, 0x00, 0x01,
];

/// bn254 curve order n - 2 (for Fermat's little theorem modular inverse)
/// n - 2 = 21888242871839275222246405745257275088548364400416034343698204186575808495615
/// Hex: 0x30644e72e131a029b85045b68181585d2833e84879b9709143e1f593efffffff
pub const BN254_N_MINUS_2: [u8; 32] = [
    0x30, 0x64, 0x4e, 0x72, 0xe1, 0x31, 0xa0, 0x29,
    0xb8, 0x50, 0x45, 0xb6, 0x81, 0x81, 0x58, 0x5d,
    0x28, 0x33, 0xe8, 0x48, 0x79, 0xb9, 0x70, 0x91,
    0x43, 0xe1, 0xf5, 0x93, 0xef, 0xff, 0xff, 0xff,
];

/// bn254 G1 generator point X coordinate
/// Hex: 0x0000000000000000000000000000000000000000000000000000000000000001
pub const BN254_G1_X: [u8; 32] = [
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
];

/// bn254 G1 generator point Y coordinate
/// Hex: 0x0000000000000000000000000000000000000000000000000000000000000002
pub const BN254_G1_Y: [u8; 32] = [
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02,
];

// =============================================================================
// Compressed point constants for Shuffle/Lock transactions
// =============================================================================

/// Size of a compressed EC point (32-byte x with sign bit embedded in top bit)
pub const COMPRESSED_POINT_SIZE: usize = 32;

/// Number of cards per transaction part (26 cards Ã— 32 bytes = 832 bytes, fits in tx)
pub const CARDS_PER_PART: usize = 26;

// =============================================================================
// SPL Token constants
// =============================================================================

/// Size of an SPL token account (Account struct in spl_token)
pub const TOKEN_ACCOUNT_SIZE: usize = 165;

/// SPL Token Program ID
pub const TOKEN_PROGRAM_ID: [u8; 32] = [
    0x06, 0xdd, 0xf6, 0xe1, 0xd7, 0x65, 0xa1, 0x93,
    0xd9, 0xcb, 0xe1, 0x46, 0xce, 0xeb, 0x79, 0xac,
    0x1c, 0xb4, 0x85, 0xed, 0x5f, 0x5b, 0x37, 0x91,
    0x3a, 0x8c, 0xf5, 0x85, 0x7e, 0xff, 0x00, 0xa9,
];
